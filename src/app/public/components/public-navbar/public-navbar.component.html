<!-- src/app/public/components/public-navbar/public-navbar.component.html -->

<mat-toolbar [class.scrolled]="isScrolled()" class="public-navbar">
  <div class="navbar-container">
    <!-- Logo -->
    <div class="logo" (click)="navigateToHome()">
      <div class="logo-icon">
        <!-- <mat-icon>local_hospital</mat-icon> -->
        <img class="app-logo" src="images/logo.png" />
      </div>
      <span class="logo-text">أمان كير</span>
    </div>

    <!-- Desktop Navigation -->
    <nav class="desktop-nav">
      <button mat-button class="nav-link" (click)="scrollToSection('home')">
        <mat-icon>home</mat-icon>
        <span>الرئيسية</span>
      </button>
      <button mat-button class="nav-link" (click)="scrollToSection('features')">
        <mat-icon>stars</mat-icon>
        <span>المميزات</span>
      </button>
      <button
        mat-button
        class="nav-link"
        (click)="scrollToSection('how-it-works')"
      >
        <mat-icon>info</mat-icon>
        <span>كيف يعمل</span>
      </button>
      <button mat-button class="nav-link" (click)="scrollToSection('doctors')">
        <mat-icon>people</mat-icon>
        <span>الأطباء</span>
      </button>
      <button mat-button class="nav-link" (click)="navigateToMyAppointments()">
        <mat-icon>event_note</mat-icon>
        <span>مواعيدي</span>
      </button>
    </nav>

    <!-- Actions -->
    <div class="nav-actions">
      <!-- Theme Toggle -->
      <app-theme-toggle></app-theme-toggle>

      <!-- Book Appointment Button -->
      <button
        mat-raised-button
        color="primary"
        class="book-button"
        (click)="navigateToBooking()"
      >
        <mat-icon>add</mat-icon>
        <span>احجز موعد</span>
      </button>

      <!-- Login Menu -->
      <!-- <button mat-button [matMenuTriggerFor]="loginMenu" class="login-button">
        <mat-icon>login</mat-icon>
        <span>تسجيل الدخول</span>
      </button>

      <mat-menu #loginMenu="matMenu" xPosition="before" class="login-menu">
        <button mat-menu-item (click)="navigateToLogin('staff')">
          <mat-icon>badge</mat-icon>
          <span>موظف العيادة</span>
        </button>
        <button mat-menu-item (click)="navigateToLogin('clinic')">
          <mat-icon>business</mat-icon>
          <span>صاحب عيادة</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item (click)="navigateToLogin('system-admin')">
          <mat-icon>admin_panel_settings</mat-icon>
          <span>مدير النظام</span>
        </button>
      </mat-menu> -->

      <button
        mat-raised-button
        color="primary"
        class="login-button"
        (click)="navigateToLogin()"
      >
        <mat-icon>login</mat-icon>
        <span>تسجيل الدخول</span>
      </button>
      <!-- Mobile Menu Toggle -->
      <button
        mat-icon-button
        class="mobile-menu-toggle"
        (click)="toggleMobileMenu()"
        [attr.aria-label]="isMobileMenuOpen() ? 'إغلاق القائمة' : 'فتح القائمة'"
      >
        <mat-icon>{{ isMobileMenuOpen() ? "close" : "menu" }}</mat-icon>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  @if (isMobileMenuOpen()) {
  <div class="mobile-menu-overlay" (click)="toggleMobileMenu()"></div>

  <div class="mobile-menu">
    <div class="mobile-menu-header">
      <h3>القائمة</h3>
      <button mat-icon-button (click)="toggleMobileMenu()">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <nav class="mobile-nav">
      <button mat-menu-item (click)="scrollToSection('home')">
        <mat-icon>home</mat-icon>
        <span>الرئيسية</span>
      </button>
      <button mat-menu-item (click)="scrollToSection('features')">
        <mat-icon>stars</mat-icon>
        <span>المميزات</span>
      </button>
      <button mat-menu-item (click)="scrollToSection('how-it-works')">
        <mat-icon>info</mat-icon>
        <span>كيف يعمل</span>
      </button>
      <button mat-menu-item (click)="scrollToSection('doctors')">
        <mat-icon>people</mat-icon>
        <span>الأطباء</span>
      </button>
      <button mat-menu-item (click)="navigateToMyAppointments()">
        <mat-icon>event_note</mat-icon>
        <span>مواعيدي</span>
      </button>
    </nav>

    <mat-divider></mat-divider>

    <div class="mobile-actions">
      <button
        mat-raised-button
        color="primary"
        class="mobile-book-button"
        (click)="navigateToBooking()"
      >
        <mat-icon>add</mat-icon>
        <span>احجز موعد</span>
      </button>
    </div>

    <mat-divider></mat-divider>

    <!-- <div class="mobile-login-section">
      <h4>تسجيل الدخول</h4>
      <button mat-menu-item (click)="navigateToLogin('staff')">
        <mat-icon>badge</mat-icon>
        <span>موظف العيادة</span>
      </button>
      <button mat-menu-item (click)="navigateToLogin('clinic')">
        <mat-icon>business</mat-icon>
        <span>صاحب عيادة</span>
      </button>
      <button mat-menu-item (click)="navigateToLogin('system-admin')">
        <mat-icon>admin_panel_settings</mat-icon>
        <span>مدير النظام</span>
      </button>
    </div> -->
    <div class="mobile-login-section">
      <h4>تسجيل الدخول</h4>
      <button
        mat-raised-button
        color="primary"
        class="login-button"
        (click)="navigateToLogin()"
      >
        <mat-icon>login</mat-icon>
        <span>تسجيل الدخول</span>
      </button>
    </div>
  </div>
  }
</mat-toolbar>
